L=300; % system size
% define middle of the chain
if mod(L,2)==0
	i_CM = L/2-0.5; % centre of chain
else
	i_CM = L/2;
end


J=1.0;% # hopping
U=1.0;% # Bose-Hubbard interaction strength

mu_i=0.02;% # initial chemical potential
mu_f=0.0002;% # final chemical potential
t_f=30.0/J;

ramp = @(t) (mu_f - mu_i).*t/t_f;

H=zeros(L,L);
for j = 1:L
    H(j,j+1)=-J;
    H(j,j-1)=J;
    H(j,j)+=mu_i*(i-i_CM).^2
    
    
    
    
    

